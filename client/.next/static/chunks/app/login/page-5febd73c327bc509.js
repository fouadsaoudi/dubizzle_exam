(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1063:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a={ME:"/me",ADS:"/ads",LOGIN:"/login",MY_ADS:"/my-ads",SUB_CATEGORIES:"/sub-categories",ADMIN_GET_ALL_ADS:"/admin-get-all-ads",UPDATE_AD_STATUS:"/update-ad-status",REGISTER:"/register"}},3883:(e,t,r)=>{Promise.resolve().then(r.bind(r,9690))},4937:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a={API_URL:"http://51.20.82.235:3000/api"}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},8941:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});let a=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.debug("fetchData debug",e,t);let a={Accept:"application/json"},o=localStorage.getItem("token");o&&(a.Authorization="Bearer ".concat(o));let s={method:t,headers:a};"GET"!==t&&(r instanceof FormData?(delete a["Content-Type"],s.body=r):(a["Content-Type"]="application/json",s.body=JSON.stringify(r)));let n=await fetch(e,s);if(401===n.status)return console.warn("Token expired or invalid. Redirecting to login..."),localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized. Redirecting to login.");return n}catch(e){return console.error("Error: fetchData",e),e}}},9690:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5155),o=r(2115),s=r(5695),n=r(8941),l=r(4937),i=r(1063);function c(){let[e,t]=(0,o.useState)(""),[r,c]=(0,o.useState)(""),u=(0,s.useRouter)(),d=async t=>{t.preventDefault();try{let t=await (0,n.F)(l.A.API_URL+i.A.LOGIN,"POST",{username:e,password:r});if(t instanceof Response&&t.ok){let e=await t.json();localStorage.setItem("token",e.token),localStorage.setItem("user",JSON.stringify(e.user)),u.push("/")}else if(t instanceof Response){let e=await t.json();alert(e.message||"Login failed.")}else alert("An unexpected error occurred.")}catch(e){console.error(e)}};return(0,a.jsxs)("div",{className:"bg-blue-500 flex flex-col items-center justify-center min-h-screen p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 color-gray-950 ",children:"Login"}),(0,a.jsxs)("form",{className:"flex flex-col gap-4 w-80",onSubmit:d,children:[(0,a.jsx)("input",{className:"p-2 rounded bg-white",placeholder:"Username",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{type:"password",className:"p-2 rounded bg-white",placeholder:"Password",value:r,onChange:e=>c(e.target.value)}),(0,a.jsx)("button",{className:"bg-green-600 border cursor-pointer text-white p-2 rounded",type:"submit",children:"Login"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3883)),_N_E=e.O()}]);