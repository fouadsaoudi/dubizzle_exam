(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1063:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={ME:"/me",ADS:"/ads",LOGIN:"/login",MY_ADS:"/my-ads",SUB_CATEGORIES:"/sub-categories",ADMIN_GET_ALL_ADS:"/admin-get-all-ads",UPDATE_AD_STATUS:"/update-ad-status",REGISTER:"/register"}},2535:(e,t,s)=>{Promise.resolve().then(s.bind(s,6616))},4937:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={API_URL:"http://13.48.5.152:8080/api"}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6616:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(5155),r=s(1063),n=s(4937),o=s(8941),l=s(5695),c=s(2115);function i(){let e=(0,l.useRouter)(),[t,s]=(0,c.useState)(""),[i,u]=(0,c.useState)(""),[d,p]=(0,c.useState)({}),m=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z\d]).{8,}$/,h=()=>{let e={};return t.trim().length<3&&(e.username="Username must be at least 3 characters."),m.test(i)||(e.password="Password must be at least 8 characters long and include uppercase, lowercase, number, and special character."),p(e),0===Object.keys(e).length},g=async s=>{if(s.preventDefault(),h())try{let s=await (0,o.F)(n.A.API_URL+r.A.REGISTER,"POST",{username:t,password:i});if(s instanceof Response&&s.ok)e.push("/login");else if(s instanceof Response){let e=await s.json();alert(e.message||"Registration failed.")}else alert("An unexpected error occurred.")}catch(e){console.error(e)}};return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Register"}),(0,a.jsxs)("form",{className:"flex flex-col gap-4 w-80",onSubmit:g,children:[(0,a.jsx)("input",{className:"border p-2 rounded",placeholder:"Username",value:t,onChange:e=>s(e.target.value)}),d.username&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.username}),(0,a.jsx)("input",{type:"password",className:"border p-2 rounded",placeholder:"Password",value:i,onChange:e=>u(e.target.value)}),d.password&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:d.password}),(0,a.jsx)("button",{className:"bg-blue-600 text-white p-2 rounded",type:"submit",children:"Register"})]})]})}},8941:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});let a=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.debug("fetchData debug",e,t);let a={Accept:"application/json"},r=localStorage.getItem("token");r&&(a.Authorization="Bearer ".concat(r));let n={method:t,headers:a};"GET"!==t&&(s instanceof FormData?(delete a["Content-Type"],n.body=s):(a["Content-Type"]="application/json",n.body=JSON.stringify(s)));let o=await fetch(e,n);if(401===o.status)return console.warn("Token expired or invalid. Redirecting to login..."),localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized. Redirecting to login.");return o}catch(e){return console.error("Error: fetchData",e),e}}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2535)),_N_E=e.O()}]);